<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href = "../css/public.css">
<script>
today = new Date();
proc1 = () => {
	// 태어난 날
	myday = new Date("1996. 12. 5");
	
	ctime = today.getTime();
	mytime = myday.getTime();
	
	console.log(ctime, mytime);
	
	times = ctime - mytime;
	days = times / 1000 / 60 / 60 / 24 / 365;
	
	str = `현재 : ${today.toLocaleDateString()} <br>`;
	str += `내 생일 : ${myday.toLocaleDateString()} <br>`;
	str += `${days}년 동안 살고 있습니다`;
	
	document.getElementById('result1').innerHTML = str;
}

proc2 = () => {
	totime = today.getTime();
	
	// 100일의 getTime
	time100 = 24 * 60 * 60 * 1000 * 100
	
	times = totime + time100;
	
	// 새로운 날짜 생성
	day100 = new Date(times);
	
	console.log(day100);
	
	str = `현재 : ${today.toLocaleDateString()} <br>`;
	str += `100일 후 : ${day100.toLocaleDateString()} <br>`;
	
	document.getElementById('result2').innerHTML = str;
}

proc3 = () => {
	// 입력된 날짜 값을 가져온다
	// id - inday 요소 접근 - 값
	invalue = document.getElementById('inday').value;	// 문자열
	
	// invalue 로 Date 객체 생성
	inday = new Date(invalue);
	
	// 현재와 선택 날짜 사이의 간격 - getTime()
	totime = today.getTime();
	seltime = inday.getTime();
	times = totime - seltime;
	
	// 날 수 계산 = times = / 1000 / 60 / 60 / 24
	days = times / 1000 / 60 / 60 / 24;
	
	// 비교
	str = "";
	if(days > 7) {
		str += `환불 / 교환 / 반품 불가능`;
	}
	else if ( days < 0) {
		str += `날짜 선택 오류`;
	}
	else {
		str += `환불 / 교환 / 반품 가능`;
	}
	
	document.getElementById('result3').innerHTML = str;
}
</script>
</head>
<body>

<div class = "box">
<h4>태어난 날로부터 현재까지 경과한 날</h4>
<input type = "button" value = "확인" onclick = "proc1()">
<br><br>
<div id = "result1">
</div>
</div>

<div class = "box">
<h4>100일 경과 후에 날짜 구하기</h4>
<input type = "button" value = "확인" onclick = "proc2()">
<br><br>
<div id = "result2">
</div>
</div>

<div class = "box">
<h4>선택 날로부터 현재까지 7일 경과 비교<br>
반품 / 환불 / 교환 여부를 결정</h4>
<br>
<label>날짜 선택</label>
<input type = "date" id = "inday">
<input type = "button" value = "확인" onclick = "proc3()">
<br><br>
<div id = "result3">
</div>
</div>
</body>
</html>