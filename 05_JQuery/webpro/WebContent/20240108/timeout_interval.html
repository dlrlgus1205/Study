<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href = "../css/public.css">
<script>
window.onload = function(){
		res1 = document.getElementById('result1');
		res2 = document.getElementById('result2');
		gbtn = document.getElementById('result2');
}
proc1 = () => {
	// 0 ~ 255 사이의 랜덤 발생
	cr = Math.floor(Math.random() * 256);
	cg = Math.floor(Math.random() * 256);
	cb = Math.floor(Math.random() * 256);
	
	// setTimeout
	setTimeout(function(){
		// res1 = document.getElementById('result1');
		// res1.style.backgroundColor = "red";
		// res1.style.backgroundColor = "rgb(" + cr + ", " + cg + ", " + cb +")";
		// res1.style.backgroundColor = `rgb(${cr}, ${cg}, ${cb})`;
		
		cr16 = cr.toString(16);
		cg16 = cg.toString(16);
		cb16 = cb.toString(16);

		// res1.style.backgroundColor = "#" + cr16 + cg16 + cb16;
		res1.style.backgroundColor = `#${cr16}${cg16}${cb16}`;
	}, 1000);
}

/* start = function(){
	// this : 시작버튼
	// this : 시작버튼
	this.style.display = "none";
}*/

start = (btn) => {
	// btn : 시작 버튼 this 파라미터를 받은 매개변수, 지역변수 
	// 함수 호출 시 this를 파라미터로 넘긴다
	btn.style.display = "none";
	
	// setInterval
	id = setInterval(function(){
		console.log(id);
		// 0 ~ 255 사이의 랜덤 발생
		cr = Math.floor(Math.random() * 256);
		cg = Math.floor(Math.random() * 256);
		cb = Math.floor(Math.random() * 256);
		
		res2.style.backgroundColor = `rgb(${cr}, ${cg}, ${cb})`;
	}, 500);
}

stop = () => {
	// 실행 종료
	clearInterval(id);
	
	// 시작 버튼을 다시 보여지도록 설정
	gbtn.style.display = "inline";
}
</script>
<style>
#result1, #result2{
height : 50px;
}
</style>
</head>
<body>

<div class = "box">
<h4></h4>
<input type = "button" value = "확인" onclick = "proc1()">
<br><br>
<div id = "result1"></div>
</div>

<div class = "box">
<h4></h4>
<input type = "button" value = "시작" onclick = "start(this)">
<input type = "button" value = "종료" onclick = "stop()">
<br><br>
<div id = "result2"></div>
</div>
</body>
</html>